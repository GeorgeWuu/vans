<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>商品详情</title>
    <link rel="stylesheet" href="../css/top.css">
    <link rel="stylesheet" href="../css/details.css">
    <link rel="stylesheet" href="../css/foot.css">
    <script type="text/javascript" src="../js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="../js/jquery1.42.min.js"></script>
    <script type="text/javascript" src="../js/jquery.SuperSlide.2.1.3.js"></script>
    <script type="text/javascript" src="../js/cookieTools.js" ></script>
</head>
<body>
<!--头部导航-->
<div class="top">
    <div class="header">
        <div class="logoimg"><a href="index.html"><img src="../img/logo.jpg"></a></div>
        <div class="headerRight">
            <div class="navUp">
                <div  id="welcomeBox">欢迎：<span id="usernameSpan"></span><input id="btnOut" type="button" value="退出" /></div>
                <a id="goodsCar" href="">我的购物车</a>
                <div id="carDiv">
                    <img src="../img/jiao.png" alt=""/>
                    购物车还没有物品，请添加~
                </div>
                <a href="login.html" id="loginA">登陆/注册</a>
                <a href="">搜索店铺</a>

            </div>
            <ul class="navDown">
                <li><a href="#" id="aboutVans">关于VANS / </a>  </li>
                <div id="vansDiv">
                    <div id="jiao"></div>
                    <a href="#">THIS IS OFF THE WALL </a><a href="#">新闻</a>
                </div>
                <li><a href="#">热门 / </a> </li>
                <li><a href="#" id="man">男子 / </a> </li>
                <div id="manDiv">
                    <div id="jiao"></div>
                    <a href="#">鞋款</a>
                    <a href="#">服饰</a>
                    <a href="#">配件</a>
                    <img src="../img/navpic1.jpg" alt=""/>
                </div>
                <li><a href="#" id="girl">女子 / </a> </li>
                <div id="girlDiv">
                    <div id="jiao"></div>
                    <a href="#">鞋款</a>
                    <a href="#">服饰</a>
                    <a href="#">配件</a>
                    <img src="../img/navpic2.jpg" alt=""/>
                </div>
                <li><a href="#">CUSTOMS定制鞋 / </a> </li>
                <li><a href="#" id="more">更多</a></li>
                <div id="moreDiv">
                    <div id="jiao"></div>
                    <a href="#">CLASSICS 经典款</a>
                    <a href="#">VAULT BY VANS</a>
                    <a href="#">PRO SKATE 职业鞋款</a>
                    <a href="#">SNOW 职业滑雪系列</a>
                </div>
                <input class="souInp" type="text" placeholder="搜索VANS"/>
                <input type="submit" value=""/>
            </ul>
        </div>
    </div>
</div>

<!--content -->
    <div class="content">
        <div class="topDiv">
            <a href="index.html">首页</a>/<a href="#">男装</a>/
        </div>
        <div class="middleDiv">
            <div class="mLeft">

                <!--<ul class="mLeftPig">-->
                    <!--<li></li>-->
                    <!--<li></li>-->
                    <!--<li></li>-->
                    <!--<li></li>-->
                    <!--<li></li>-->
                <!--</ul>-->
            </div>
            <ul class="mRight">
                <li>
                    <p id="goodsName"></p>
                    <p>￥<span id="goodsPrice"></span></p>
                </li>
                <li>
                    <p>选择颜色: <span id="xuanze"></span></p>
                    <p id="colorP"></p>
                </li>
                <li>
                    <p>选择尺寸:</p>
                    <p><a href="">L</a><a href="">M</a><a href="">XS</a><a href="">XL</a><a href="">XXL</a><a
                            href="">XXXL</a></p>
                </li>
                <li>
                    选购数量：<span>－</span><input type="text" value="1"/><span>＋</span>
                </li>
                <li>
                    <input type="button" value="加入购物车"/><input type="button" value="立即购买"/><span>❤收藏该商品</span>
                </li>
                <li>
                    <img src="../img/goodscarpig.jpg" alt=""/><img src="../img/goodsshuo.jpg" alt=""/>
                </li>
            </ul>
        </div>
        <div class="downDiv">
            <h3>商品详情</h3>
            <ul>
                <li>
                    <h4>版型: <p>亚洲码</p></h4>
                </li>
                <li>
                    <h4>款式: <p>情侣款连帽套头卫衣</p></h4>
                </li>
                <li>
                    <h4>材料: <p>棉 聚酯纤维</p></h4>
                </li>
            </ul>
            <h3>产品图片</h3>
            <div id="goodsBigPic"></div>
            <h3>尺码对照表</h3>
            <img class="chimaPic" src="../img/chimaPic.jpg" alt="#"/>
            <h3>产品包装</h3>
            <img src="../img/dabaoPic.jpg" alt="#"/>
        </div>
    </div>
<!--foot-->
<div class="banFoot">
    <div class="foot">
        <div class="footUp">
            <div class="help">
                <h3>获取帮助</h3>
                <ul class="ulOne">
                    <li>购物</li>
                    <li><a href="#">男子</a></li>
                    <li><a href="">女子</a></li>
                    <li><a href="">CUSTOMS</a></li>
                    <li><a href="">Vault by Vans</a></li>
                    <li><a href="">职业鞋款</a></li>
                    <li><a href="">查找店铺</a></li>
                </ul>
                <ul class="ulTwo">
                    <li>公司</li>
                    <li><a href="">常见问题</a></li>
                    <li><a href="">使用条款</a></li>
                    <li><a href="">隐私政策</a></li>
                    <li><a href="">可持续发展</a></li>
                </ul>
            </div>
            <div class="connect">
                <h3>联系我们</h3>
                <ul class="ulThree">
                    <li>电子邮件</li>
                    <li><a href="">contactus@vans.com.cn</a></li>
                </ul>
                <ul class="ulFour">
                    <li>地址</li>
                    <li>中国上海市南京西路688号8楼</li>
                </ul>
            </div>
            <div class="find">
                <h3>在这些地方找到我们</h3>
                <div class="aDiv">
                    <a href="#"><img src="../img/foot1.jpg" alt=""/></a>
                    <a href="#"><img src="../img/foot2.jpg" alt=""/></a>
                    <a href="#"><img src="../img/foot3.jpg" alt=""/></a>
                    <a href="#"><img src="../img/foot4.jpg" alt=""/></a>
                    <a href="#"><img src="../img/foot5.jpg" alt=""/></a>
                </div>
            </div>
        </div>
        <div class="footDown">
            <img src="../img/vans.jpg" alt=""/>
            <div class="wordDiv">
                <p><span>苏ICP13010219号</span> 工信部网站</p>
                <p>威富服饰（中国）有限公司</p>
                <img src="../img/slecet.jpg" alt=""/>
            </div>
        </div>
    </div>
</div>

</body>
</html>
<script>
    $(document).ready(function(){
        //获取id的函数
        function getUrlParam(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象

            var r = window.location.search.substr(1).match(reg); //匹配目标参数
            if(r!=null){
                return unescape(r[2]);//返回参数值
            }
            return null;
        }

        var id = getUrlParam('booksId');
        console.log("id:"+id);

        $.ajax({
            type:"get",
            url:"../php/getGoodsList.php",
            success:function(data){
                createUI(data);
            }
        });


        function createUI(data){
            let goodsJson = jQuery.parseJSON(data);
            console.log(goodsJson);

            $.each(goodsJson,function (indx,val) {
                // console.log(key);
                // console.log("#########################################");
                // console.log(val);
                // console.log("#########################################");
                // console.log(val.goodsId);

                if(id == val.goodsId){
                    //console.log(val.goodsImg);
                    //console.log(val.goodsName);
                    //console.log(val.goodsPrice);
                    //let goodsName = val.goodsName;

                    $("#xuanze").append(val.goodsDesc);
                    $("#goodsName").append(val.goodsName);
                    $("#goodsPrice").append(val.goodsPrice);

                    let goodsPic = "<img class='bigPic' src='"+val.beiyong2+"'/>" +
                        "<ul class='mLeftPig'>" +
                        "<li><img src='"+val.beiyong2+"'/></li>" +
                        "<li><img src='"+val.beiyong3+"'/></li>" +
                        "<li><img src='"+val.beiyong4+"'/></li>" +
                        "<li><img src='"+val.beiyong5+"'/></li>" +
                        "<li><img src='"+val.beiyong6+"'/></li>" +
                        "</ul>";
                    $(".mLeft").append(goodsPic);

                    let colorP = "<img src='"+val.beiyong2+"' alt='#'/>";
                    $("#colorP").append(colorP);

                    let goodsBigPic = "<img src='"+val.beiyong7+"' alt='#'/>";
                    $("#goodsBigPic").append(goodsBigPic);
                }
            });
        }

    });



   //---------------------------------------------------------------------------




    function initUI(username){
        if(username!=null){
            $("#usernameSpan").html(username);
            $("#welcomeBox").css("display","block");
            $("#loginA").css("display","none");
        }else{
            $("#welcomeBox").css("display","none");
            $("#loginA").css("display","block");
        }
    }



    $(document).ready(function(){
        let username = getCookie("name");

        initUI(username);
        $("#btnOut").click(function(){
            removeCookie("name");
            location.href="../html/login.html";
        });
    });

    $(document).ready(function(){
        //加载完成carDiv隐藏
        $("#carDiv").hide();
        //滑入goodsCar出现，滑出隐藏
        $("#goodsCar").hover(function() {
            $("#carDiv").show();
        }, function() {
            $("#carDiv").hide();
        });
        //划入自己出现，滑出自己隐藏
        $("#carDiv").hover(function() {
            $("#carDiv").show();
        }, function() {
            $("#carDiv").hide();
        });
    });

    $(document).ready(function() {
        $("#vansDiv").hide();
        $("#aboutVans").hover(function() {
            $("#vansDiv").show();
        }, function() {
            $("#vansDiv").hide();
        });
        //划入自己出现，滑出自己隐藏
        $("#vansDiv").hover(function() {
            $("#vansDiv").show();
        }, function() {
            $("#vansDiv").hide();
        });
    });

    $(document).ready(function() {
        $("#manDiv").hide();
        $("#man").hover(function() {
            $("#manDiv").show();
        }, function() {
            $("#manDiv").hide();
        });
        //划入自己出现，滑出自己隐藏
        $("#manDiv").hover(function() {
            $("#manDiv").show();
        }, function() {
            $("#manDiv").hide();
        });
    });

    $(document).ready(function() {
        $("#girlDiv").hide();
        $("#girl").hover(function() {
            $("#girlDiv").show();
        }, function() {
            $("#girlDiv").hide();
        });
        //划入自己出现，滑出自己隐藏
        $("#girlDiv").hover(function() {
            $("#girlDiv").show();
        }, function() {
            $("#girlDiv").hide();
        });
    });

    $(document).ready(function() {
        $("#moreDiv").hide();
        $("#more").hover(function() {
            $("#moreDiv").show();
        }, function() {
            $("#moreDiv").hide();
        });
        //划入自己出现，滑出自己隐藏
        $("#moreDiv").hover(function() {
            $("#moreDiv").show();
        }, function() {
            $("#moreDiv").hide();
        });
    });
//---------------------------------------------------------
</script>